const defaulTemperatures: { [key: number]: Array<number> } = {
  1000: [255, 56, 0],
  1500: [255, 109, 0],
  1900: [255, 131, 0],
  2000: [255, 137, 18],
  2200: [255, 147, 44],
  2500: [255, 161, 72],
  2700: [255, 169, 87],
  2800: [255, 173, 94],
  2900: [255, 177, 101],
  3000: [255, 180, 107],
  3500: [255, 196, 137],
  4000: [255, 209, 163],
  4100: [255, 211, 168],
  4300: [255, 215, 177],
  4500: [255, 219, 186],
  5000: [255, 228, 206],
  5100: [255, 230, 210],
  5200: [255, 232, 213],
  5300: [255, 233, 217],
  5400: [255, 235, 220],
  5500: [255, 236, 224],
  5600: [255, 238, 227],
  5700: [255, 239, 230],
  6000: [255, 243, 239],
  6500: [255, 249, 253],
  6600: [254, 249, 255],
  6700: [252, 247, 255],
  6800: [249, 246, 255],
  6900: [247, 245, 255],
  7000: [245, 243, 255],
  7100: [243, 242, 255],
  7200: [240, 241, 255],
  7300: [239, 240, 255],
  7400: [237, 239, 255],
  7500: [235, 238, 255],
  8000: [227, 233, 255],
  8500: [220, 229, 255],
  9000: [214, 225, 255],
  9300: [210, 223, 255],
  9500: [208, 222, 255],
  9600: [207, 221, 255],
  9700: [207, 221, 255],
  9800: [206, 220, 255],
  9900: [205, 220, 255],
  10000: [204, 219, 255],
  10500: [200, 217, 255],
  11000: [200, 213, 255],
  11500: [193, 213, 255],
  12000: [191, 211, 255],
  12500: [188, 210, 255],
  13000: [186, 208, 255],
  13500: [184, 207, 255],
  14000: [182, 206, 255],
  14500: [180, 205, 255],
  15000: [179, 204, 255],
  15500: [177, 203, 255],
  16000: [176, 202, 255],
  16500: [175, 201, 255],
  17000: [174, 200, 255],
  17500: [173, 200, 255],
}

export function colorTemperatureToRgb(value: number): Array<number> {
  let r: number = 255, g: number = 1255, b: number = 255;

  if (typeof(value) !== 'number' || !value) {
    return [255, 255, 255]
  }

  if (value < 0) value = 0;

  if (value == 0) {
    return [255, 255, 255]
  }

  if (defaulTemperatures[value]) {
    return [defaulTemperatures[value][0], defaulTemperatures[value][1], defaulTemperatures[value][2]]
  }
  
  if (value > 100000000) value = 100000000;

  value /= 100;

  if (value <= 66) {
    r = 255;
    g = parseFloat((99.4708025861 * Math.log(value) - 161.1195681661).toFixed(0));
  } else {
    r = parseFloat((329.698727446 * Math.pow(value - 60, -0.1332047592)).toFixed(0));
    g = parseFloat((288.1221695283 * Math.pow(value - 60, -0.0755148492)).toFixed(0));
  }

  if (value >= 66) {
    b = 255;
  } else if (value <= 19) {
    b = 0;
  } else {
    b = parseFloat((138.5177312231 * Math.log(value - 10) - 305.0447927307).toFixed(0));
  }

  return [r, g, b];
}
